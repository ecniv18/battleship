(()=>{"use strict";var e={208:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(601),a=n.n(r),o=n(314),i=n.n(o)()(a());i.push([e.id,':root {\n  --bg-prime: #008ad2;\n  --bg-dark: #1f1e1e;\n  --bg-light: #dcdcdc;\n  --bg-light-dimmed: #5a5858;\n\n  --txt-clr-dark: #1f1e1e;\n  --txt-clr-light: #dcdcdc;\n\n  --block-bg: #3f9cce;\n  --block-destroyed-bg: #df7371;\n  --block-size: 36px;\n\n  --clr-selected: #e4f579;\n}\n* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\nhtml {\n  font-size: 62.5%;\n  font-family: Arial, Helvetica, sans-serif;\n  color: var(--txt-clr-light);\n  text-shadow: 0 0 1px #000;\n}\n\nbody {\n  background: var(--bg-prime);\n}\n\nbutton {\n  padding: 0.5em 1em;\n  cursor: pointer;\n}\n\n.index {\n  height: 90vh;\n  display: grid;\n  place-content: center;\n}\n\n.greeting {\n  width: 30rem;\n  height: 30rem;\n  background-color: var(--bg-light);\n  transform: translateY(-5rem);\n  border-radius: 1rem;\n  color: var(--txt-clr-dark);\n  box-shadow: 0 0 3px var(--bg-light);\n  font-size: 2rem;\n  text-align: center;\n  padding: 1rem;\n\n  display: grid;\n  place-content: center;\n  gap: 2rem;\n}\n\n/* SETUP SCREEN */\n.setup_screen {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 1rem;\n}\n\n.setup_screen-board_container {\n  display: flex;\n  gap: 1rem;\n}\n\n.ship_container {\n  display: flex;\n  flex-direction: column;\n  gap: 1px;\n}\n\n.ship {\n  display: grid;\n  grid-template-columns: repeat(5, var(--block-size));\n  padding: 0;\n  height: var(--block-size);\n  background-color: transparent;\n  border: none;\n  gap: 1px;\n\n  position: relative;\n}\n\n.ship[data-selected="true"] > .ship-block::before {\n  content: "";\n  position: absolute;\n  inset: 0;\n  border: 2px solid var(--clr-selected);\n  border-radius: 5px;\n}\n\n.ship-block {\n  border: 1px solid var(--bg-dark);\n  height: 100%;\n  border-radius: 5px;\n  position: relative;\n}\n\n.ship[data-id] > .ship-block {\n  background-color: #7c0343;\n}\n\n.ship[data-placed="true"] > .ship-block {\n  background-color: gray;\n}\n.placed > .ship-block {\n  background-color: gray;\n}\n\n.ship:hover > .ship-block::after {\n  content: "";\n  position: absolute;\n  inset: 0;\n  border: 2px solid var(--bg-light);\n  border-radius: 5px;\n}\n\n.player_board {\n  display: grid;\n  grid-template-columns: repeat(10, 36px);\n  grid-template-rows: repeat(10, var(--block-size));\n  gap: 1px;\n  background-color: var(--bg-light-dimmed);\n  padding: 1rem;\n  border-radius: 1rem;\n}\n\n.player_board .block {\n  border: 1px solid var(--bg-dark);\n  border-radius: 5px;\n  position: relative;\n  background-color: var(--block-bg);\n}\n\n.occupied::before {\n  content: "";\n  position: absolute;\n  inset: 0;\n  background-color: #7c0343;\n}\n\n.hovered-block::after {\n  content: "";\n  position: absolute;\n  inset: 0;\n  border: 2px solid var(--bg-light);\n  border-radius: 5px;\n}\n\n.game-board {\n  display: grid;\n  grid-template-columns: repeat(10, 45px);\n  grid-template-rows: repeat(10, 45px);\n}\n\n.game-board > div {\n  border: 1px solid #333;\n  font-weight: bold;\n  font-size: 2rem;\n  color: #fff;\n}\n\n/* BATTLE SCREEN */\n.battle_screen {\n  display: grid;\n  gap: 1rem;\n}\n.score_board {\n  display: flex;\n\n  justify-content: space-between;\n}\n\n.player_one-name,\n.player_two-name {\n  color: var(--clr-selected);\n  font-size: 2rem;\n}\n.player_one-counter-label,\n.player_two-counter-label {\n  display: flex;\n  gap: 1rem;\n  font-size: 1.5rem;\n\n  font-weight: normal;\n}\n\n.player_one-counter-label > span,\n.player_two-counter-label > span {\n  font-weight: bold;\n}\n\n.board_container {\n  display: flex;\n  gap: 5rem;\n}\n',""]);const s=i},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(i[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);r&&i[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),t.push(d))}},t}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},i=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],d=o[c]||0,p="".concat(c," ").concat(d);o[c]=d+1;var h=n(p),u={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)t[h].references++,t[h].updater(u);else{var y=a(u,r);r.byIndex=s,t.splice(s,0,{identifier:p,updater:y,references:1})}i.push(p)}return i}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var o=r(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var s=n(o[i]);t[s].references--}for(var l=r(e,a),c=0;c<o.length;c++){var d=n(o[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}o=l}}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,exports:{}};return e[r](o,o.exports,n),o.exports}function r(e,t,n=!1){n&&(e.innerHTML=""),Array.isArray(t)?t.forEach((t=>e.appendChild(t))):e.appendChild(t)}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0;var a=n(72),o=n.n(a),i=n(825),s=n.n(i),l=n(659),c=n.n(l),d=n(56),p=n.n(d),h=n(540),u=n.n(h),y=n(113),m=n.n(y),f=n(208),g={};function b({type:e,className:t,classList:n,id:r,innerText:a,innerHTML:o,dataset:i}){const s=document.createElement(e);return t&&(s.className=t),n&&Array.isArray(n)&&n.forEach((e=>s.classList.add(e))),r&&(s.id=r),a&&(s.innerText=a),o&&(s.innerHTML=o),i&&i.forEach((e=>{s.dataset[e.property]=e.value})),s}function v({element:e,type:t,callbackFunction:n}){return{start:()=>{e.addEventListener(t,n)},stop:()=>{e.removeEventListener(t,n)}}}g.styleTagTransform=m(),g.setAttributes=p(),g.insert=c().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=u(),o()(f.A,g),f.A&&f.A.locals&&f.A.locals;const k=function(){const e=b({type:"article",className:"greeting"}),t=b({type:"h1",className:"greeting-msg",innerText:"The Battleship Game"}),n=b({type:"button",className:"greeting-start_btn",innerText:"Start Game"});return{element:()=>(r(e,[t,n]),e),clickListener:(e,t="start")=>{"start"===t?v({element:n,type:"click",callbackFunction:e}).start():"stop"===t&&v({element:n,type:"click",callbackFunction:e}).stop()}}}();class x{constructor(){this.grid=this.#e(10),this.stats={hit:0,miss:0}}recieveAttack(e,t){const n=this.grid[e.x][e.y];n.destroyed||(null!==n.shipId?(t[this.grid[e.x][e.y].shipId].hit(),this.stats.hit+=1):this.stats.miss+=1,n.destroyed=!0)}placeShip(e,t,n){if("horizontal"===t.orientation){if(n.y+t.length<=10)for(let e=0;e<t.length;e++)this.grid[n.x][n.y+e].shipId=t.id}else if("vertical"===t.orientation&&n.x-t.length<=10)for(let e=0;e<t.length;e++)this.grid[n.x+e][n.y].shipId=t.id;"player"===e?N.playerOne.ships[t.id].placed=!0:"computer"===e&&(N.playerTwo.ships[t.id].placed=!0)}#e(e){const t=[];for(let n=0;n<e;n++){const r=[];for(let t=0;t<e;t++)r.push(new w({x:n,y:t}));t.push(r)}return t}}class w{constructor(e){this.shipId=null,this.coordinates=e,this.destroyed=!1}}class S{constructor(e,t){this.length=e,this.id=t,this.hitpoints=e,this.destroyed=!1,this.orientation="horizontal",this.selected=!1,this.placed=!1}hit(){this.hitpoints-=1,this.hitpoints<=0&&(this.destroyed=!0)}select(){this.selected=!0}deSelect(){this.selected=!1}toggleOrientation(){this.orientation="horizontal"===this.orientation?"vertical":"horizontal"}}class T{constructor(e){this.name=e,this.ships=this.#t(),this.board=new x,this.selectedShip=null}#t(){return[new S(2,0),new S(2,1),new S(3,2),new S(3,3),new S(4,4),new S(5,5)]}ready(){for(let e=0;e<this.ships.length;e++)if(!this.ships[e].placed)return!1;return!0}selectShip(e){for(let t=0;t<this.ships.length;t++)this.ships[t].id===e?this.ships[t].selected?(this.selectedShip=null,this.ships[t].deSelect()):(this.selectedShip=this.ships[t],this.ships[t].select()):this.ships[t].deSelect()}getGrid(){return this.board.grid}}class N{static playerOne=new T("player");static playerTwo=new T("computer");static turn=this.playerOne.name;static winner=null;static#n(){let e=0;const t=this.playerTwo.ships;for(let n=0;n<t.length;n++)t[n].destroyed&&(e+=1);let n=0;const r=this.playerOne.ships;for(let e=0;e<r.length;e++)r[e].destroyed&&(n+=1);e>=this.playerTwo.ships.length?this.winner=this.playerOne.name:n>=this.playerOne.ships.length&&(this.winner=this.playerTwo.name)}static selectShip(e,t){e===this.playerOne.name?this.playerOne.selectShip(t):this.playerTwo.selectShip(t)}static attack(e){this.turn===this.playerOne.name?this.playerTwo.board.recieveAttack(e,this.playerTwo.ships):this.turn==this.playerTwo.name&&this.playerOne.board.recieveAttack(e,this.playerOne.ships),this.#n()}static deployShip(e,t,n){e===this.playerOne.name?this.playerOne.board.placeShip(e,t,n):e===this.playerTwo.name&&this.playerTwo.board.placeShip(e,t,n)}static deployComputerShip(){this.playerTwo.ships.forEach((e=>{1===Math.floor(2*Math.random())&&e.toggleOrientation();let t=!1;for(;!t;){const n=Math.floor(10*Math.random()),r=Math.floor(10*Math.random()),a=this.playerTwo.board.grid[n][r];let o=!0;if("horizontal"===e.orientation){if(r+e.length<=10){for(let t=0;t<e.length;t++)if(null!==this.playerTwo.board.grid[n][r+t].shipId){o=!1;break}o&&(this.deployShip(N.playerTwo.name,e,a.coordinates),t=!0)}}else if("vertical"===e.orientation&&n+e.length<=10){for(let t=0;t<e.length;t++)if(null!==this.playerTwo.board.grid[n+t][r].shipId){o=!1;break}o&&(this.deployShip(N.playerTwo.name,e,a.coordinates),t=!0)}}}))}}function O(e){const t=b({type:"div",className:"player_board",dataset:[{property:"user",value:e.name}]});return{element:()=>{for(let n=0;n<e.getGrid().length;n++)for(let a=0;a<e.getGrid().length;a++){const o=b({type:"div",className:"block",dataset:[{property:"x",value:n},{property:"y",value:a}]});v({element:o,type:"mouseover",callbackFunction:()=>{if(!e.selectedShip)return;const t=e.selectedShip,n=Number(o.dataset.x),r=Number(o.dataset.y),a=document.querySelectorAll(`div[data-x="${n}"]`),i=document.querySelectorAll(`div[data-y="${r}"]`);if("horizontal"===t.orientation)for(let e=0;e<t.length;e++)for(let t=0;t<a.length;t++)a[t].dataset.y==r+e&&a[t].dataset.x==n&&a[t].classList.add("hovered-block");else if("vertical"===t.orientation)for(let e=0;e<t.length;e++)for(let t=0;t<i.length;t++)i[t].dataset.x==n+e&&i[t].dataset.y==r&&i[t].classList.add("hovered-block")}}).start(),v({element:o,type:"mouseout",callbackFunction:()=>{if(!e.selectedShip)return;const t=e.selectedShip,n=Number(o.dataset.x),r=Number(o.dataset.y),a=document.querySelectorAll(`div[data-x="${n}"]`),i=document.querySelectorAll(`div[data-y="${r}"]`);if("horizontal"===t.orientation)for(let e=0;e<t.length;e++)for(let t=0;t<a.length;t++)a[t].dataset.y==r+e&&a[t].dataset.x==n&&a[t].classList.remove("hovered-block");else if("vertical"===t.orientation)for(let e=0;e<t.length;e++)for(let t=0;t<i.length;t++)i[t].dataset.x==n+e&&i[t].dataset.y==r&&i[t].classList.remove("hovered-block")}}).start(),v({element:o,type:"click",callbackFunction:()=>{if(!e.selectedShip)return;const t=e.selectedShip,n=Number(o.dataset.x),r=Number(o.dataset.y),a=document.querySelectorAll(`div[data-x="${n}"]`),i=document.querySelectorAll(`div[data-y="${r}"]`);if(!_(e,t,n,r)){N.deployShip(e.name,t,{x:n,y:r});for(let e=0;e<t.length;e++){if("horizontal"===t.orientation)for(let t=0;t<a.length;t++)a[t].dataset.y==r+e&&a[t].dataset.x==n&&a[t].classList.add("occupied");else if("vertical"===t.orientation)for(let t=0;t<i.length;t++)i[t].dataset.x==n+e&&i[t].dataset.y==r&&i[t].classList.add("occupied");C(t)}}}}).start(),r(t,o)}return t}}}function _(e,t,n,r){const a=e.getGrid();for(let e=0;e<a.length;e++)for(let n=0;n<a.length;n++)if(N.playerOne.board.grid[e][n].shipId==t.id)return!0;if("horizontal"===t.orientation){if(r+t.length>10)return!0;for(let e=0;e<t.length;e++)if(null!==a[n][r+e].shipId)return!0}else if("vertical"===t.orientation){if(n+t.length>10)return!0;for(let e=0;e<t.length;e++)if(null!==a[n+e][r].shipId)return!0}return!1}function C(e){document.querySelectorAll(`.ship[data-id="${e.id}"] > .ship-block`).forEach((e=>{e.style.backgroundColor="gray"}))}function A(e){const t=b({type:"div",className:"player_board",dataset:[{property:"user",value:e.name}]});let n=e.getGrid();return e.name===N.playerTwo.name&&(N.deployComputerShip(),n=N.playerTwo.getGrid()),{element:()=>{for(let a=0;a<n.length;a++)for(let o=0;o<n.length;o++){const i=b({type:"div",className:"block",dataset:[{property:"x",value:a},{property:"y",value:o}]});null!==n[a][o].shipId&&e.name===N.playerOne.name&&i.classList.add("occupied"),e.name===N.playerTwo.name&&v({element:i,type:"click",callbackFunction:()=>{N.attack({x:i.dataset.x,y:i.dataset.y});const e=N.playerTwo.getGrid()[i.dataset.x][i.dataset.y];if(e.destroyed){if(null!==e.shipId)switch(e.shipId){case 0:i.style.backgroundColor="#cbce15";break;case 1:i.style.backgroundColor="#153dce";break;case 2:i.style.backgroundColor="#ce15c2";break;case 3:i.style.backgroundColor="#239443";break;case 4:i.style.backgroundColor="#ce1515";break;case 5:i.style.backgroundColor="#f3f3f3"}else i.style.backgroundColor="#333";i.classList.remove("occupied")}M(),I(),N.winner&&alert(N.winner)}}).start(),r(t,i)}return t}}}const L=[];function M(){if(N.winner)return void alert(N.winner);const e=Math.floor(10*Math.random()),t=Math.floor(10*Math.random());L.includes(`${e}${t}`)&&M(),N.turn=N.playerTwo.name,N.attack({x:Number(e),y:Number(t)}),N.turn=N.playerOne.name,L.push(`${e}${t}`)}function I(e=document.querySelector('.player_board[data-user="player"]')){const t=N.playerOne.getGrid();e.innerHTML="";for(let n=0;n<t.length;n++)for(let a=0;a<t.length;a++){const o=b({type:"div",className:"block",dataset:[{property:"x",value:n},{property:"y",value:a}]}),i=t[o.dataset.x][o.dataset.y];if(i.destroyed)if(null!==i.shipId)switch(i.shipId){case 0:o.style.backgroundColor="#cbce15";break;case 1:o.style.backgroundColor="#153dce";break;case 2:o.style.backgroundColor="#ce15c2";break;case 3:o.style.backgroundColor="#239443";break;case 4:o.style.backgroundColor="#ce1515";break;case 5:o.style.backgroundColor="#f3f3f3"}else o.style.backgroundColor="#333";else null!==i.shipId&&(o.style.backgroundColor="#7c0343");r(e,o)}}function E(){const e=N.playerOne,t=N.playerTwo;e.ships.reduce(((e,t)=>(t.destroyed||(e+=1),e)),0),t.ships.reduce(((e,t)=>(t.destroyed||(e+=1),e)),0);const n=b({type:"div",className:"score_board"}),a=b({type:"div",className:"player_one-container"}),o=b({type:"div",className:"player_two-container"}),i=b({type:"h2",className:"player_one-name",innerText:e.name}),s=b({type:"h2",className:"player_two-name",innerText:t.name});return{element:()=>(r(a,[i]),r(o,[s]),r(n,[a,o]),n)}}const z=(F=N.playerOne,{element:()=>{const e=b({type:"div",className:"ship_container"}),t=b({type:"button",className:"setup_screen-orientation-button",innerText:"Toggle Orientation"});return v({element:t,type:"click",callbackFunction:()=>{N.playerOne.selectedShip&&(N.playerOne.ships=N.playerOne.ships.map((e=>(e.id===N.playerOne.selectedShip.id&&e.toggleOrientation(),e))))}}).start(),function n(){e.innerHTML="",F.ships.forEach((a=>{const o=function(e){let t=b({type:"button",className:"ship",dataset:[{property:"id",value:e.id},{property:"selected",value:e.selected},{property:"placed",value:e.placed}]});return{element:()=>{for(let n=0;n<e.length;n++){const e=b({type:"div",className:"ship-block"});r(t,e)}return t}}}(a).element();v({element:o,type:"click",callbackFunction:()=>{N.selectShip(N.playerOne.name,Number(o.dataset.id)),n()}}).start(),r(e,o),r(e,t)}))}(),e}});var F;const G=()=>{const e=b({type:"section",className:"setup_screen"}),t=b({type:"button",className:"setup_screen-start_button",innerText:"Start Battle"}),n=b({type:"div",className:"setup_screen-board_container"});return v({element:t,type:"click",callbackFunction:()=>{N.playerOne.ready()&&r(document.querySelector(".index"),(()=>{const e=b({type:"div",className:"battle_screen"}),t=b({type:"div",className:"board_container"});return r(t,[A(N.playerOne).element(),A(N.playerTwo).element()]),r(e,[E().element(),t]),e})(),!0)}}).start(),r(n,[z.element(),O(N.playerOne).element()]),r(e,[t,n]),e},q=document.querySelector(".index");k.clickListener((()=>{r(q,[G()],!0)})),r(q,[k.element()])})();